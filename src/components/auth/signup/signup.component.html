<style>
  .phone-grid {
    display: grid;
    grid-template-columns: 30% 1fr;
  }
</style>

<main class="min-h-screen flex text-gray">
  <section class="max-w-5xl flex-1 w-9/12 md:px-10 md:pt-10 px-4 py-8">
    <h1
      class="font-bold text-lg md:text-xl text-center md:text-start lg:text-2xl capitalize mb-5"
    >
      Create account
    </h1>
    <form
      [formGroup]="applyForm"
      class="md:grid flex flex-col max-w-sm md:max-w-none mx-auto md:mx-0 md:grid-cols-2 gap-4 md:gap-10 text-gray"
      (submit)="handleSubmit()"
      autocomplete="off"
    >
      <fieldset class="flex flex-col gap-2">
        <custom-input [config]="first_name" />
        <p
          *ngIf="!!this.applyForm?.get('first_name')?.errors?.['required'] && (this.applyForm.get('first_nmae')?.touched)"
          class="text-red-500 italic text-sm font-normal"
        >
          First name is required
        </p>
      </fieldset>
      <fieldset class="flex flex-col gap-3">
        <custom-input [config]="last_name" />
        <p
          *ngIf="!!this.applyForm?.get('last_name')?.errors?.['required'] && (this.applyForm.get('last_name')?.touched)"
          class="text-red-500 italic text-sm font-normal"
        >
          Last name is required
        </p>
      </fieldset>
      <fieldset class="flex flex-col gap-3 col-span-2">
        <custom-input [config]="email" />
        <p
          *ngIf="!!this.applyForm?.get('email')?.errors?.['required'] && (this.applyForm.get('email')?.touched)"
          class="text-red-500 italic text-sm font-normal"
        >
          Email is required
        </p>
        <p
          *ngIf="!!this.applyForm?.get('email')?.errors?.['email'] && (this.applyForm.get('email')?.touched)"
          class="text-red-500 italic text-sm font-normal"
        >
          Invalid Email
        </p>
      </fieldset>
      <div class="flex flex-col gap-3 md:col-span-2">
        <label class="font-medium tracking-wide text-sm text-gray-300"
          >Phone Number</label
        >

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <select
            formControlName="country"
            class="border shadow-sm h-9 w-full transition-all px-3 py-1 rounded-md bg-transparent"
          >
            <option class="text-gray-700" selected disabled hidden>
              Select Country Code
            </option>
            <option
              *ngFor="let country of countries"
              [value]="country.dial_code"
              class=""
            >
              {{ country.name }} {{ country.dial_code }}
            </option>
          </select>

          <!-- <input
            formControlName="phone_number"
            class="max-w-lg bg-transparent p-2 border rounded-md"
          /> -->
          <custom-input [config]="phone_number" />
          <p
            *ngIf="!!this.applyForm?.get('phone_number')?.errors?.['required'] && (this.applyForm.get('phone_number')?.touched)"
            class="text-red-500 italic text-sm font-normal"
          >
            Phone number is required
          </p>
          <p
            *ngIf="!!this.applyForm?.get('phone_number')?.errors?.['minlength'] && (this.applyForm.get('phone_number')?.touched)"
            class="text-red-500 italic text-sm font-normal"
          >
            Invalid phone number
          </p>
        </div>
      </div>
      <fieldset class="flex flex-col gap-4">
        <custom-input [config]="password" />
        <p
          *ngIf="!!this.applyForm?.get('password')?.errors?.['required'] && (this.applyForm.get('password')?.touched)"
          class="text-red-500 italic text-sm font-normal"
        >
          Password is required
        </p>
      </fieldset>
      <fieldset class="flex flex-col gap-4">
        <custom-input [config]="re_password" />
        <p
          *ngIf="!!this.applyForm?.errors?.['passwordMismatch'] && (this.applyForm.get('re_password')?.touched)"
          class="text-red-500 italic text-sm font-normal"
        >
          Password must match
        </p>
      </fieldset>
      <div class="col-span-2">
        <button
          class="py-2 w-full rounded-md text-white bg-primary-400 font-medium text-lg tracking-wide"
          type="submit"
          style="background-color: rgb(15 15 197)"
        >
          Create
        </button>
      </div>
    </form>
  </section>
  <section
    class="basis-2/4 bg-gradient-to-bl md:block hidden from-primary-400 to-primary-700"
  ></section>
</main>
